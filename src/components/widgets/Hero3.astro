---
import Button from '~/components/ui/Button.astro';
import type { Hero as Props } from '~/types';

const {
  title = await Astro.slots.render('title'),
  subtitle = await Astro.slots.render('subtitle'),
  tagline,
  content = await Astro.slots.render('content'),
  bgImage = '/banner.jpg',
  id,
} = Astro.props;
---

<section
  class="relative flex items-center justify-center w-full min-h-screen bg-cover bg-center text-center not-prose overflow-hidden"
  style={`background-image: url('${bgImage}');`}
  {...(id ? { id } : {})}
>
  <!-- Subtle gradient overlay like announcements -->
  <div class="absolute inset-0 bg-gradient-to-br from-slate-900/80 via-slate-800/70 to-slate-900/90"></div>
  
  <!-- Very subtle pattern overlay -->
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-700/10 via-transparent to-transparent"></div>

  <!-- Main content -->
  <div class="relative z-10 max-w-4xl px-6 py-16 md:px-10 animate-fade-in-up">
    {tagline && (
      <p
        class="text-sm md:text-base font-semibold uppercase tracking-widest text-slate-400 mb-6"
        set:html={tagline}
      />
    )}

    {title && (
      <h1
        class="text-4xl md:text-5xl lg:text-6xl font-black mb-8 leading-tight text-slate-100"
        set:html={title}
      />
    )}

    {subtitle && (
      <p
        class="text-xl md:text-2xl text-slate-300 mb-10 leading-relaxed max-w-3xl mx-auto"
        set:html={subtitle}
      />
    )}

    <!-- Enhanced Call to Action -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-16">
      <Button
        href="#contact"
        aria-label="Get free estimate"
        class="group relative inline-flex items-center justify-center px-8 py-4 font-semibold rounded-xl bg-gradient-to-r from-slate-700/80 to-slate-600/80 hover:from-slate-600/90 hover:to-slate-500/90 border border-slate-500/60 text-slate-100 hover:text-white backdrop-blur-sm transition-all duration-300 ease-out hover:scale-105 hover:shadow-lg min-w-[200px]"
      >
        <span class="relative z-10 flex items-center gap-2 text-base">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
          </svg>
          Free Estimate
        </span>
        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
      </Button>

      <Button
        href="#services"
        aria-label="View our services"
        class="group relative inline-flex items-center justify-center px-8 py-4 font-semibold rounded-xl bg-gradient-to-r from-amber-600/40 to-amber-500/50 hover:from-amber-500/60 hover:to-amber-400/70 border border-amber-500/50 text-amber-100 hover:text-amber-50 backdrop-blur-sm transition-all duration-300 ease-out hover:scale-105 hover:shadow-lg min-w-[200px]"
      >
        <span class="relative z-10 flex items-center gap-2 text-base">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.75 21h16.5M4.5 3h15m0 0v12a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 15V3zm6 8.25a.75.75 0 01.75-.75h1.5a.75.75 0 01.75.75v1.5a.75.75 0 01-.75.75h-1.5a.75.75 0 01-.75-.75v-1.5z"></path>
          </svg>
          Our Services
        </span>
        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-amber-200/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
      </Button>
    </div>

    {content && (
      <div class="mt-12 text-slate-400 text-base leading-relaxed" set:html={content} />
    )}
  </div>

  <!-- Subtle scroll indicator -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10 animate-bounce-slow">
    <div class="flex flex-col items-center gap-1">
      <span class="text-slate-500 text-xs font-medium tracking-widest">SCROLL</span>
      <div class="w-4 h-8 border border-slate-500/50 rounded-full flex justify-center">
        <div class="w-0.5 h-2 bg-slate-500 rounded-full mt-2"></div>
      </div>
    </div>
  </div>

  <!-- Very subtle decorative elements -->
  <div class="absolute top-20 left-10 w-3 h-3 bg-slate-600/20 rounded-full"></div>
  <div class="absolute top-40 right-20 w-4 h-4 bg-slate-600/15 rounded-full"></div>
  <div class="absolute bottom-32 left-20 w-2 h-2 bg-slate-600/25 rounded-full"></div>
</section>

<style>
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounce-slow {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0) translateX(-50%);
  }
  40% {
    transform: translateY(-8px) translateX(-50%);
  }
  60% {
    transform: translateY(-4px) translateX(-50%);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 1s ease-out both;
}

.animate-bounce-slow {
  animation: bounce-slow 3s infinite;
}

/* Smooth transitions */
* {
  transition-property: color, background-color, border-color, transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
}
</style>